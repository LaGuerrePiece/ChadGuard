/* 
 * jqEye v1.0.3 
 * Copyright (c) 2014-2020 Jose F. Maldonado
 *
 * This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. 
 * If a copy of the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
!function(t){t.fn.jqEye=function(e){var i=t.extend({shape:"circle",radius:20,width:40,height:40},e);return this.each(function(){var e=t(this),h=null,r=null,l=null,s=null;t(document).mousemove(function(u){null!==h&&null!==r&&null!==l&&null!==s||(h=e.position().left+e.width()/2,r=e.position().top+e.height()/2,l=e.offset().left+e.width()/2,s=e.offset().top+e.height()/2);var f=u.clientX,o=u.clientY,y=f-l+t(window).scrollLeft(),x=o-s+t(window).scrollTop();if("rectangle"===i.shape){var c=n(y,x,i.width,i.height);y=c.x,x=c.y}if("circle"===i.shape){var d=a(y,x,i.radius);y=d.x,x=d.y}if("ellipse"===i.shape){var v=function(t,e,i,n){var a={x:t,y:e};if(t*t/(i*i)+e*e/(n*n)>1)if(0!==t){var h=e/t;a.x=Math.sqrt(1/(1/(i*i)+h*h/(n*n))),a.x=t>0?a.x:-a.x,a.y=Math.abs(h*a.x),a.y=e>0?a.y:-a.y}else a.y=e>0?n:-n;return a}(y,x,i.width/2,i.height/2);y=v.x,x=v.y}if("rounded rectangle"===i.shape){var p=function(t,e,i,h,r){var l={x:t,y:e},s=i/2-r,u=h/2-r;if(Math.abs(t)>s&&Math.abs(e)>u){var f=a(Math.abs(t)-s,Math.abs(e)-u,r);l.x=t>0?f.x+s:-(f.x+s),l.y=e>0?f.y+u:-(f.y+u)}else l=n(t,e,i,h);return l}(y,x,i.width,i.height,i.radius);y=p.x,x=p.y}y=y+h-e.width()/2,x=x+r-e.height()/2,e.css({left:y,top:x})})});function n(t,e,i,n){var a={x:t,y:e};return t>i/2&&(a.x=i/2),t<-i/2&&(a.x=-i/2),e>n/2&&(a.y=n/2),e<-n/2&&(a.y=-n/2),a}function a(t,e,i){var n={x:t,y:e};if(t*t+e*e>i*i)if(0!==t){var a=e/t;n.x=Math.sqrt(i*i/(a*a+1)),n.x=t>0?n.x:-n.x,n.y=Math.abs(a*n.x),n.y=e>0?n.y:-n.y}else n.y=e>0?i:-i;return n}}}(jQuery);